/*C2*/SET SCHEMA PUBLIC
create table CoordGPS (id integer generated by default as identity (start with 1), attitude double not null, latitude double not null, longitude double not null, primary key (id))
create table Message (id integer generated by default as identity (start with 1), content varchar(255), fromf integer, tof integer, primary key (id))
create table Plan (id integer generated by default as identity (start with 1), avgHeartRate float not null, endDate date, note varchar(255), sportType varchar(255), startDate date, title varchar(255), route_id integer, weather_id integer, primary key (id))
create table Plan_User (plans_id integer not null, users_id integer not null)
create table Route (id integer generated by default as identity (start with 1), primary key (id))
create table Route_CoordGPS (Route_id integer not null, coordGpsList_id integer not null, unique (coordGpsList_id))
create table User (id integer generated by default as identity (start with 1), avatar varchar(255), birthday date, email varchar(255), facebook varchar(255), firstname varchar(255), height float not null, joindate date, lastname varchar(255), nickname varchar(255), sex varchar(255), weight float not null, primary key (id))
create table User_User (User_id integer not null, friends_id integer not null, unique (friends_id))
create table Weather (id integer generated by default as identity (start with 1), city varchar(255), directionOfWind varchar(255), humidity integer not null, pressure float not null, speedOfWind float not null, stateOfWtr varchar(255), temperature integer not null, primary key (id))
alter table Message add constraint FK9C2397E77A0EF7C4 foreign key (tof) references User
alter table Message add constraint FK9C2397E77FE01475 foreign key (fromf) references User
alter table Plan add constraint FK25FF49C7C06C2C foreign key (route_id) references Route
alter table Plan add constraint FK25FF49B24D8BCC foreign key (weather_id) references Weather
alter table Plan_User add constraint FKF4B63F21E9795CE7 foreign key (plans_id) references Plan
alter table Plan_User add constraint FKF4B63F216A38FD2B foreign key (users_id) references User
alter table Route_CoordGPS add constraint FK9AC2AEBC7C06C2C foreign key (Route_id) references Route
alter table Route_CoordGPS add constraint FK9AC2AEB27BEDA4A foreign key (coordGpsList_id) references CoordGPS
alter table User_User add constraint FK8BA0F3BF71482488 foreign key (User_id) references User
alter table User_User add constraint FK8BA0F3BF11667A7E foreign key (friends_id) references User
INSERT INTO USER VALUES(1,NULL,NULL,'us1@yahoo.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO USER VALUES(2,NULL,NULL,'us2@gmail.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO PLAN VALUES(1,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
DELETE FROM USER WHERE ID=1
INSERT INTO USER VALUES(1,NULL,'2013-09-30','us1@yahoo.fr','facebook/us1.fr','Marc',1.850000023841858E0,'2013-09-30','dupon','us1NickName','Male',0.0E0)
DELETE FROM USER WHERE ID=2
INSERT INTO USER VALUES(2,NULL,'2013-09-30','us2@gmail.fr','facebook/us2.fr','Jacky',1.8700000047683716E0,'2013-09-30','chen','us2NickName','Male',0.0E0)
DELETE FROM PLAN WHERE ID=1
INSERT INTO PLAN VALUES(1,0.0E0,'3913-11-20','Running in the centre place','Running','3913-11-20','Ah...',NULL,NULL)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
INSERT INTO MESSAGE VALUES(1,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(2,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(3,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(4,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(5,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(6,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(7,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(8,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(9,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(10,NULL,NULL,NULL)
DELETE FROM MESSAGE WHERE ID=1
INSERT INTO MESSAGE VALUES(1,'Hello',1,2)
DELETE FROM MESSAGE WHERE ID=2
INSERT INTO MESSAGE VALUES(2,'Hello',2,1)
DELETE FROM MESSAGE WHERE ID=3
INSERT INTO MESSAGE VALUES(3,'Bonjour',2,2)
DELETE FROM MESSAGE WHERE ID=4
INSERT INTO MESSAGE VALUES(4,'Bonjour',1,1)
DELETE FROM MESSAGE WHERE ID=5
INSERT INTO MESSAGE VALUES(5,'Bonjour',1,2)
DELETE FROM MESSAGE WHERE ID=6
INSERT INTO MESSAGE VALUES(6,'Bonjour',2,1)
DELETE FROM MESSAGE WHERE ID=7
INSERT INTO MESSAGE VALUES(7,'Bonjour',1,2)
DELETE FROM MESSAGE WHERE ID=8
INSERT INTO MESSAGE VALUES(8,'Bonjour',1,2)
DELETE FROM MESSAGE WHERE ID=9
INSERT INTO MESSAGE VALUES(9,'Hello',1,1)
DELETE FROM MESSAGE WHERE ID=10
INSERT INTO MESSAGE VALUES(10,'Hello',1,2)
COMMIT
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
