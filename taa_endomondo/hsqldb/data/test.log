/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
create table CoordGPS (id integer generated by default as identity (start with 1), attitude double not null, latitude double not null, longitude double not null, primary key (id))
create table Message (id integer generated by default as identity (start with 1), content varchar(255), fromwho_id integer, towho_id integer, primary key (id))
create table Plan (id integer generated by default as identity (start with 1), avgHeartRate float not null, endDate date, note varchar(255), sportType varchar(255), startDate date, title varchar(255), route_id integer, weather_id integer, primary key (id))
create table Route (id integer generated by default as identity (start with 1), primary key (id))
create table Route_CoordGPS (Route_id integer not null, coordGpsList_id integer not null, unique (coordGpsList_id))
create table User (id integer generated by default as identity (start with 1), avatar varchar(255), birthday date, email varchar(255), facebook varchar(255), firstname varchar(255), height float not null, joindate date, lastname varchar(255), nickname varchar(255), sex varchar(255), weight float not null, primary key (id))
create table User_Plan (users_id integer not null, plans_id integer not null, primary key (users_id, plans_id))
create table User_User (User_id integer not null, friends_id integer not null, primary key (User_id, friends_id))
create table Weather (id integer generated by default as identity (start with 1), city varchar(255), directionOfWind varchar(255), humidity integer not null, pressure float not null, speedOfWind float not null, stateOfWtr varchar(255), temperature integer not null, primary key (id))
alter table Message add constraint FK9C2397E737718BDF foreign key (fromwho_id) references User
alter table Message add constraint FK9C2397E74CE761F0 foreign key (towho_id) references User
alter table Plan add constraint FK25FF49C7C06C2C foreign key (route_id) references Route
alter table Plan add constraint FK25FF49B24D8BCC foreign key (weather_id) references Weather
alter table Route_CoordGPS add constraint FK9AC2AEBC7C06C2C foreign key (Route_id) references Route
alter table Route_CoordGPS add constraint FK9AC2AEB27BEDA4A foreign key (coordGpsList_id) references CoordGPS
alter table User_Plan add constraint FK8B9E931DE9795CE7 foreign key (plans_id) references Plan
alter table User_Plan add constraint FK8B9E931D6A38FD2B foreign key (users_id) references User
alter table User_User add constraint FK8BA0F3BF71482488 foreign key (User_id) references User
alter table User_User add constraint FK8BA0F3BF11667A7E foreign key (friends_id) references User
INSERT INTO USER VALUES(1,NULL,NULL,'us1@yahoo.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO USER VALUES(2,NULL,NULL,'us2@gmail.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO PLAN VALUES(1,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
DELETE FROM USER WHERE ID=1
INSERT INTO USER VALUES(1,NULL,'2013-09-30','us1@yahoo.fr','facebook/us1.fr','Marc',1.850000023841858E0,'2013-09-30','dupon','us1NickName','Male',0.0E0)
DELETE FROM USER WHERE ID=2
INSERT INTO USER VALUES(2,NULL,'2013-09-30','us2@gmail.fr','facebook/us2.fr','Jacky',1.8700000047683716E0,'2013-09-30','chen','us2NickName','Male',0.0E0)
DELETE FROM PLAN WHERE ID=1
INSERT INTO PLAN VALUES(1,0.0E0,'3913-11-20','Running in the centre place','Running','3913-11-20','Ah...',NULL,NULL)
COMMIT
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
INSERT INTO PLAN VALUES(2,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
INSERT INTO ROUTE VALUES(1)
INSERT INTO COORDGPS VALUES(1,0.0E0,0.0E0,0.0E0)
INSERT INTO COORDGPS VALUES(2,0.0E0,0.0E0,0.0E0)
INSERT INTO USER VALUES(3,NULL,NULL,'us1@yahoo.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
DELETE FROM PLAN WHERE ID=2
INSERT INTO PLAN VALUES(2,0.0E0,'2013-10-01','Running in the centre place','Running','2013-10-01','Test1...',1,NULL)
DELETE FROM COORDGPS WHERE ID=1
INSERT INTO COORDGPS VALUES(1,7439.0E0,-71.0E0,172.0E0)
DELETE FROM COORDGPS WHERE ID=2
INSERT INTO COORDGPS VALUES(2,1586.0E0,4.0E0,24.0E0)
DELETE FROM USER WHERE ID=3
INSERT INTO USER VALUES(3,NULL,'2013-09-30','us1@yahoo.fr','facebook/us1.fr','Marc',1.850000023841858E0,'2013-09-30','dupon','us1NickName','Male',0.0E0)
INSERT INTO ROUTE_COORDGPS VALUES(1,1)
INSERT INTO ROUTE_COORDGPS VALUES(1,2)
COMMIT
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
INSERT INTO PLAN VALUES(3,0.0E0,'3913-11-20','Running in the centre place','Running','3913-11-20','Ah...',NULL,NULL)
COMMIT
/*C16*/SET SCHEMA PUBLIC
DELETE FROM PLAN WHERE ID=1
INSERT INTO PLAN VALUES(1,0.0E0,'3913-11-20','Runsdfsdfsdfsdf the centre place','Running','3913-11-20','Ah...',NULL,NULL)
COMMIT
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DELETE FROM PLAN WHERE ID=1
COMMIT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/DISCONNECT
/*C12*/SET SCHEMA PUBLIC
DISCONNECT
/*C13*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/DISCONNECT
/*C18*/SET SCHEMA PUBLIC
INSERT INTO PLAN VALUES(4,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
INSERT INTO ROUTE VALUES(2)
INSERT INTO COORDGPS VALUES(3,0.0E0,0.0E0,0.0E0)
INSERT INTO COORDGPS VALUES(4,0.0E0,0.0E0,0.0E0)
DELETE FROM PLAN WHERE ID=4
INSERT INTO PLAN VALUES(4,0.0E0,'2013-10-01','Running in the centre place','Running','2013-10-01','Test1...',2,NULL)
DELETE FROM COORDGPS WHERE ID=3
INSERT INTO COORDGPS VALUES(3,4270.0E0,36.0E0,10.0E0)
DELETE FROM COORDGPS WHERE ID=4
INSERT INTO COORDGPS VALUES(4,6192.0E0,30.0E0,-70.0E0)
INSERT INTO ROUTE_COORDGPS VALUES(2,3)
INSERT INTO ROUTE_COORDGPS VALUES(2,4)
COMMIT
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
INSERT INTO PLAN VALUES(5,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
INSERT INTO ROUTE VALUES(3)
INSERT INTO COORDGPS VALUES(5,0.0E0,0.0E0,0.0E0)
INSERT INTO COORDGPS VALUES(6,0.0E0,0.0E0,0.0E0)
DELETE FROM PLAN WHERE ID=5
INSERT INTO PLAN VALUES(5,0.0E0,'2013-10-01','Running in the centre place','Running','2013-10-01','Test1...',3,NULL)
DELETE FROM COORDGPS WHERE ID=5
INSERT INTO COORDGPS VALUES(5,3078.0E0,-27.0E0,-127.0E0)
DELETE FROM COORDGPS WHERE ID=6
INSERT INTO COORDGPS VALUES(6,2495.0E0,81.0E0,-129.0E0)
INSERT INTO ROUTE_COORDGPS VALUES(3,5)
INSERT INTO ROUTE_COORDGPS VALUES(3,6)
COMMIT
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
