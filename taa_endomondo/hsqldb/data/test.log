/*C2*/SET SCHEMA PUBLIC
drop table CoordGPS if exists
drop table Message if exists
drop table Plan if exists
drop table Plan_User if exists
drop table Route if exists
drop table Route_CoordGPS if exists
drop table User if exists
drop table User_User if exists
drop table Weather if exists
create table CoordGPS (id integer generated by default as identity (start with 1), attitude double not null, latitude double not null, longitude double not null, primary key (id))
create table Message (id integer generated by default as identity (start with 1), content varchar(255), fromwho_id integer, towho_id integer, primary key (id))
create table Plan (id integer generated by default as identity (start with 1), avgHeartRate float not null, endDate date, note varchar(255), sportType varchar(255), startDate date, title varchar(255), route_id integer, weather_id integer, primary key (id))
create table Plan_User (plans_id integer not null, users_id integer not null)
create table Route (id integer generated by default as identity (start with 1), primary key (id))
create table Route_CoordGPS (Route_id integer not null, coordGpsList_id integer not null, unique (coordGpsList_id))
create table User (id integer generated by default as identity (start with 1), avatar varchar(255), birthday date, email varchar(255), facebook varchar(255), firstname varchar(255), height float not null, joindate date, lastname varchar(255), nickname varchar(255), sex varchar(255), weight float not null, primary key (id))
create table User_User (User_id integer not null, friends_id integer not null)
create table Weather (id integer generated by default as identity (start with 1), city varchar(255), directionOfWind varchar(255), humidity integer not null, pressure float not null, speedOfWind float not null, stateOfWtr varchar(255), temperature integer not null, primary key (id))
alter table Message add constraint FK9C2397E737718BDF foreign key (fromwho_id) references User
alter table Message add constraint FK9C2397E74CE761F0 foreign key (towho_id) references User
alter table Plan add constraint FK25FF49C7C06C2C foreign key (route_id) references Route
alter table Plan add constraint FK25FF49B24D8BCC foreign key (weather_id) references Weather
alter table Plan_User add constraint FKF4B63F21E9795CE7 foreign key (plans_id) references Plan
alter table Plan_User add constraint FKF4B63F216A38FD2B foreign key (users_id) references User
alter table Route_CoordGPS add constraint FK9AC2AEBC7C06C2C foreign key (Route_id) references Route
alter table Route_CoordGPS add constraint FK9AC2AEB27BEDA4A foreign key (coordGpsList_id) references CoordGPS
alter table User_User add constraint FK8BA0F3BF71482488 foreign key (User_id) references User
alter table User_User add constraint FK8BA0F3BF11667A7E foreign key (friends_id) references User
INSERT INTO USER VALUES(1,NULL,NULL,'us1@yahoo.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO USER VALUES(2,NULL,NULL,'us2@gmail.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO PLAN VALUES(1,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
DELETE FROM USER WHERE ID=1
INSERT INTO USER VALUES(1,NULL,'2013-09-30','us1@yahoo.fr','facebook/us1.fr','Marc',1.850000023841858E0,'2013-09-30','dupon','us1NickName','Male',0.0E0)
DELETE FROM USER WHERE ID=2
INSERT INTO USER VALUES(2,NULL,'2013-09-30','us2@gmail.fr','facebook/us2.fr','Jacky',1.8700000047683716E0,'2013-09-30','chen','us2NickName','Male',0.0E0)
DELETE FROM PLAN WHERE ID=1
INSERT INTO PLAN VALUES(1,0.0E0,'3913-11-20','Running in the centre place','Running','3913-11-20','Ah...',NULL,NULL)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
alter table Message drop constraint FK9C2397E737718BDF
alter table Message drop constraint FK9C2397E74CE761F0
alter table Plan drop constraint FK25FF49C7C06C2C
alter table Plan drop constraint FK25FF49B24D8BCC
alter table Plan_User drop constraint FKF4B63F21E9795CE7
alter table Plan_User drop constraint FKF4B63F216A38FD2B
alter table Route_CoordGPS drop constraint FK9AC2AEBC7C06C2C
alter table Route_CoordGPS drop constraint FK9AC2AEB27BEDA4A
alter table User_User drop constraint FK8BA0F3BF71482488
alter table User_User drop constraint FK8BA0F3BF11667A7E
drop table CoordGPS if exists
drop table Message if exists
drop table Plan if exists
drop table Plan_User if exists
drop table Route if exists
drop table Route_CoordGPS if exists
drop table User if exists
drop table User_User if exists
drop table Weather if exists
create table CoordGPS (id integer generated by default as identity (start with 1), attitude double not null, latitude double not null, longitude double not null, primary key (id))
create table Message (id integer generated by default as identity (start with 1), content varchar(255), fromwho_id integer, towho_id integer, primary key (id))
create table Plan (id integer generated by default as identity (start with 1), avgHeartRate float not null, endDate date, note varchar(255), sportType varchar(255), startDate date, title varchar(255), route_id integer, weather_id integer, primary key (id))
create table Plan_User (plans_id integer not null, users_id integer not null)
create table Route (id integer generated by default as identity (start with 1), primary key (id))
create table Route_CoordGPS (Route_id integer not null, coordGpsList_id integer not null, unique (coordGpsList_id))
create table User (id integer generated by default as identity (start with 1), avatar varchar(255), birthday date, email varchar(255), facebook varchar(255), firstname varchar(255), height float not null, joindate date, lastname varchar(255), nickname varchar(255), sex varchar(255), weight float not null, primary key (id))
create table User_User (User_id integer not null, friends_id integer not null)
create table Weather (id integer generated by default as identity (start with 1), city varchar(255), directionOfWind varchar(255), humidity integer not null, pressure float not null, speedOfWind float not null, stateOfWtr varchar(255), temperature integer not null, primary key (id))
alter table Message add constraint FK9C2397E737718BDF foreign key (fromwho_id) references User
alter table Message add constraint FK9C2397E74CE761F0 foreign key (towho_id) references User
alter table Plan add constraint FK25FF49C7C06C2C foreign key (route_id) references Route
alter table Plan add constraint FK25FF49B24D8BCC foreign key (weather_id) references Weather
alter table Plan_User add constraint FKF4B63F21E9795CE7 foreign key (plans_id) references Plan
alter table Plan_User add constraint FKF4B63F216A38FD2B foreign key (users_id) references User
alter table Route_CoordGPS add constraint FK9AC2AEBC7C06C2C foreign key (Route_id) references Route
alter table Route_CoordGPS add constraint FK9AC2AEB27BEDA4A foreign key (coordGpsList_id) references CoordGPS
alter table User_User add constraint FK8BA0F3BF71482488 foreign key (User_id) references User
alter table User_User add constraint FK8BA0F3BF11667A7E foreign key (friends_id) references User
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
INSERT INTO USER VALUES(1,NULL,NULL,'us1@yahoo.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO USER VALUES(2,NULL,NULL,'us2@gmail.fr',NULL,NULL,0.0E0,NULL,NULL,NULL,NULL,0.0E0)
INSERT INTO PLAN VALUES(1,0.0E0,NULL,NULL,NULL,NULL,NULL,NULL,NULL)
DELETE FROM USER WHERE ID=1
INSERT INTO USER VALUES(1,NULL,'2013-09-30','us1@yahoo.fr','facebook/us1.fr','Marc',1.850000023841858E0,'2013-09-30','dupon','us1NickName','Male',0.0E0)
DELETE FROM USER WHERE ID=2
INSERT INTO USER VALUES(2,NULL,'2013-09-30','us2@gmail.fr','facebook/us2.fr','Jacky',1.8700000047683716E0,'2013-09-30','chen','us2NickName','Male',0.0E0)
DELETE FROM PLAN WHERE ID=1
INSERT INTO PLAN VALUES(1,0.0E0,'3913-11-20','Running in the centre place','Running','3913-11-20','Ah...',NULL,NULL)
COMMIT
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
INSERT INTO MESSAGE VALUES(2,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(3,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(4,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(5,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(6,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(7,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(8,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(9,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(10,NULL,NULL,NULL)
INSERT INTO MESSAGE VALUES(11,NULL,NULL,NULL)
DELETE FROM MESSAGE WHERE ID=2
INSERT INTO MESSAGE VALUES(2,'Bonjour',1,1)
DELETE FROM MESSAGE WHERE ID=3
INSERT INTO MESSAGE VALUES(3,'Bonjour',2,1)
DELETE FROM MESSAGE WHERE ID=4
INSERT INTO MESSAGE VALUES(4,'Bonjour',2,2)
DELETE FROM MESSAGE WHERE ID=5
INSERT INTO MESSAGE VALUES(5,'Bonjour',2,1)
DELETE FROM MESSAGE WHERE ID=6
INSERT INTO MESSAGE VALUES(6,'Bonjour',2,1)
DELETE FROM MESSAGE WHERE ID=7
INSERT INTO MESSAGE VALUES(7,'Hello',1,2)
DELETE FROM MESSAGE WHERE ID=8
INSERT INTO MESSAGE VALUES(8,'Bonjour',1,2)
DELETE FROM MESSAGE WHERE ID=9
INSERT INTO MESSAGE VALUES(9,'Bonjour',2,1)
DELETE FROM MESSAGE WHERE ID=10
INSERT INTO MESSAGE VALUES(10,'Bonjour',2,1)
DELETE FROM MESSAGE WHERE ID=11
INSERT INTO MESSAGE VALUES(11,'Bonjour',1,2)
COMMIT
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
